(function(){var a=function(){var a={absolute:$ABSOLUTE$,secureUrl:$SECUREURL$,rootUrl:"$ROOTURL$",routes:$ROUTES$,prefix:"$PREFIX$",route:function(a,b,c,d){if(c=c||this.getByName(a))return this.toRoute(c,b,d)},url:function(a,b){b=b||[];var c=a+"/"+b.join("/");return this.getCorrectUrl(c)},toRoute:function(a,b,c){var d=this.replaceNamedParameters(a.uri,b),e=this.getRouteQueryString(b),f=this.getCorrectUrl(d+e);return this.absolute||c?this.getCorrectAbsoluteUrl(f,a,c):f},isOtherHost:function(a){return a.host&&a.host!=window.location.hostname},getScheme:function(){return this.secureUrl?"https://":"http://"},replaceNamedParameters:function(a,b){return a=a.replace(/\{(.*?)\??\}/g,function(a,c){if(b.hasOwnProperty(c)){var d=b[c];return delete b[c],d}return a}),a=a.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return b.length<1?"":"?"+b.join("&")},getByName:function(a){for(var b in this.routes)if(this.routes.hasOwnProperty(b)&&this.routes[b].name===a)return this.routes[b]},getByAction:function(a){for(var b in this.routes)if(this.routes.hasOwnProperty(b)&&this.routes[b].action===a)return this.routes[b]},getCorrectAbsoluteUrl:function(a,b,c){return this.isOtherHost(b)||b.host&&c?this.getScheme()+b.host+"/"+a:this.rootUrl.replace("//?$/","")+a},getCorrectUrl:function(a){var b=this.prefix+"/"+a.replace(/^\/?/,"");return b}},b=function(a){if(!a)return"";var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")},c=function(a,c,d){return c=c||a,d=b(d),'<a href="'+a+'" '+d+">"+c+"</a>"};return{action:function(b,c){return c=c||{},a.route(b,c,a.getByAction(b))},route:function(b,c){return c=c||{},a.route(b,c)},absoluteRoute:function(b,c){return c=c||{},a.route(b,c,!0)},url:function(b,c){return c=c||{},a.url(b,c)},link_to:function(a,b,d){return a=this.url(a),c(a,b,d)},link_to_route:function(a,b,d,e){var f=this.route(a,d);return c(f,b,e)},link_to_action:function(a,b,d,e){var f=this.action(a,d);return c(f,b,e)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof module&&module.exports?module.exports=a:window.$NAMESPACE$=a}).call(this);