(function(){var t=function(){var t={absolute:$ABSOLUTE$,rootUrl:"$ROOTURL$",routes:$ROUTES$,prefix:"$PREFIX$",route:function(t,r,e){return e=e||this.getByName(t),e?this.toRoute(e,r):void 0},url:function(t,r){r=r||[];var e=t+"/"+r.join("/");return this.getCorrectUrl(e)},toRoute:function(t,r){var e=this.getRouteDomain(t),o=this.absolute?this.replaceRoot(e,r):"",n=this.replaceNamedParameters(t.uri,r),i=this.getRouteQueryString(r);return t=o+"/",void 0!==this.prefix&&""!==this.prefix&&(t+=this.prefix+"/"),t+=n+i},replaceNamedParameters:function(t,r){return t=t.replace(/\{(.*?)\??\}/g,function(t,e){if(r.hasOwnProperty(e)){var o=r[e];return delete r[e],o}return t}),t=t.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e+"="+t[e]);return r.length<1?"":"?"+r.join("&")},getRouteDomain:function(t){return t.host?(domain=location.protocol+"//"+t.host,location.port&&(domain+=":"+location.port),domain):null},replaceRoot:function(t,r){return t=t||this.rootUrl,this.replaceNamedParameters(t,r)},getByName:function(t){for(var r in this.routes)if(this.routes.hasOwnProperty(r)&&this.routes[r].name===t)return this.routes[r]},getByAction:function(t){for(var r in this.routes)if(this.routes.hasOwnProperty(r)&&this.routes[r].action===t)return this.routes[r]},getCorrectUrl:function(t){var r=this.prefix+"/"+t.replace(/^\/?/,"");return this.absolute?this.rootUrl.replace("//?$/","")+r:r}},r=function(t){if(!t)return"";var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e+'="'+t[e]+'"');return r.join(" ")},e=function(t,e,o){return e=e||t,o=r(o),'<a href="'+t+'" '+o+">"+e+"</a>"};return{action:function(r,e){return e=e||{},t.route(r,e,t.getByAction(r))},route:function(r,e){return e=e||{},t.route(r,e)},url:function(r,e){return e=e||{},t.url(r,e)},link_to:function(t,r,o){return t=this.url(t),e(t,r,o)},link_to_route:function(t,r,o,n){var i=this.route(t,o);return e(i,r,n)},link_to_action:function(t,r,o,n){var i=this.action(t,o);return e(i,r,n)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:window.$NAMESPACE$=t}).call(this);
